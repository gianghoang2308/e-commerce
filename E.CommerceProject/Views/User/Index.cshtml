@model X.PagedList.IPagedList<E.CommerceProject.Models.User>
@using X.PagedList.Mvc.Core;
@{
	Layout = "~/Views/Shared/_MLayout.cshtml";

}

<!--start page wrapper -->
<div class="page-wrapper">
	<div class="page-content">
		<!--breadcrumb-->
		<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
			<div class="breadcrumb-title pe-3">Tables</div>
			<div class="ps-3">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb mb-0 p-0">
						<li class="breadcrumb-item">
							<a href="javascript:;"><i class="bx bx-home-alt"></i></a>
						</li>
						<li class="breadcrumb-item active" aria-current="page">Data Table</li>
					</ol>
				</nav>
			</div>
			<div class="ms-auto">
				<div class="btn-group">
					<button type="button" class="btn btn-primary">Settings</button>
					<button type="button" class="btn btn-primary split-bg-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown">
						<span class="visually-hidden">Toggle Dropdown</span>
					</button>
					<div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-end">
						<a class="dropdown-item" href="javascript:;">Action</a>
						<a class="dropdown-item" href="javascript:;">Another action</a>
						<a class="dropdown-item" href="javascript:;">Something else here</a>
						<div class="dropdown-divider"></div>	<a class="dropdown-item" href="javascript:;">Separated link</a>
					</div>
				</div>
			</div>
		</div>
		<!--end breadcrumb-->
		<h6 class="mb-0 text-uppercase">DataTable Example</h6>
		<hr />
		<div class="card">
			<div class="card-body">
				<div class="table-responsive">
					<div class="table-title">
						<div class="row">
							<div class="col-sm-6">
							</div>
							<div class="col-sm-6">
								<div class="col-sm-6 text-end">
									<a asp-controller="User" asp-action="Create" class="btn btn-success">
										<i class="fa-solid fa-circle-plus"></i> <b>Thêm mới</b>
									</a>
									<a asp-controller="User" asp-action="Delete" class="btn btn-danger">
										<i class="fa-solid fa-trash"></i> <b>Xóa</b>
									</a>
									<a asp-controller="User" asp-action="Index" class="btn btn-primary">
										<i class="fa-solid fa-arrows-rotate"></i> <b>Tải lại trang</b>
									</a>
								</div>
							</div>
						</div>
					</div>
					<table id="example" class="table table-striped table-bordered" style="width:100%">
						<thead>
							<tr>
								<th>
									<span class="custom-checkbox">
										<!-- "Select All" checkbox -->
										<input type="checkbox" id="selectAll" />
										<label for="selectAll"></label>
									</span>
								</th>
								<th>Id</th>
								<th>Tài khoản admin</th>
								<th>Mật khẩu</th>
								<th>Họ và tên</th>
								<th>Ảnh đại diện</th>
								<th>Số điện thoại</th>
								<th>Email</th>
								<th>Vai trò</th>
								<th>Ngày tạo</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var admin in Model)
							{
								<tr>
									<td>
										<span class="custom-checkbox">
											<!-- Individual checkboxes -->
											<input type="checkbox" class="checkboxItem" id="checkbox_@admin.Id" name="options[]" value="@admin.Id" />
											<label for="checkbox_@admin.Id"></label>
										</span>
									</td>
									<td>@admin.Id</td>
									<td>@admin.UserAccount</td>
									<th>@admin.UserPassword</th>
									<th>@admin.FullName</th>
									<td>
										<img src="~/uploads/users/@admin.Avatar" title="@admin.Avatar" alt="@admin.Avatar" width="150" height="200" />
									</td>
									<td>@admin.PhoneNumber</td>
									<td>@admin.Email</td>
									<td>@admin.Role.RoleName</td>
									<td>@admin.CreateTime.ToString("dd/MM/yyyy")</td>
									<td colspan="2" style="text-align: center">
										<a asp-controller="User" asp-action="Edit" asp-route-id="@admin.Id" class="btn btn-sm btn-warning" title="Sửa">
											<i class="fa-solid fa-pen-to-square"></i> Sửa
										</a>
										<a asp-controller="User" asp-action="Delete" asp-route-id="@admin.Id" class="btn btn-sm btn-danger" title="Xóa">
											<i class="fa-solid fa-trash"></i> Xóa
										</a>
									</td>
								</tr>
							}
						</tbody>
					</table>
					<div class="table-title">
						<div class="row">
							<div class="col-sm-6">
							</div>
							<div class="col-sm-6">
								<div class="col-sm-6 text-end">
									<a asp-controller="User" asp-action="Create" class="btn btn-success">
										<i class="fa-solid fa-circle-plus"></i> <b>Thêm mới</b>
									</a>
									<a asp-controller="User" asp-action="Delete" class="btn btn-danger">
										<i class="fa-solid fa-trash"></i> <b>Xóa</b>
									</a>
									<a asp-controller="User" asp-action="Index" class="btn btn-primary">
										<i class="fa-solid fa-arrows-rotate"></i> <b>Tải lại trang</b>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--end page wrapper -->
<script>
	$(document).ready(function() {
		// Select all checkboxes when "Select All" checkbox is clicked
		$("#selectAll").click(function() {
			$(".checkboxItem").prop("checked", this.checked);  // Check all checkboxes
		});

		// Update the "Select All" checkbox state based on individual checkboxes
		$(".checkboxItem").click(function() {
			// If all checkboxes are checked, check the "Select All" checkbox
			$("#selectAll").prop("checked", $(".checkboxItem:checked").length === $(".checkboxItem").length);
		});
	});
</script>